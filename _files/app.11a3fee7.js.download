(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["app"],{0:function(t,e,n){t.exports=n("56d7")},"02bf":function(t,e,n){},"0312":function(t,e,n){},"0bb5":function(t,e,n){},"0c6e":function(t,e,n){"use strict";n("3331")},1:function(t,e){},"21b6":function(t,e,n){"use strict";e["a"]={methods:{goBack:function(){var t=window.history;t&&t.length&&t.length<=1?this.$router.push({path:"/"}):this.$router.go(-1)}}}},"23eb":function(t,e,n){"use strict";n("c0d0")},"23fa":function(t,e,n){"use strict";n("a192")},"29c6":function(t,e,n){},"2fb0":function(t,e,n){var o={"./":"6f78","./huawei":"3c23","./huawei.js":"3c23","./index":"6f78","./index.js":"6f78","./mobile":"8f9f","./mobile.js":"8f9f"};function i(t){var e=a(t);return n(e)}function a(t){if(!n.o(o,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return o[t]}i.keys=function(){return Object.keys(o)},i.resolve=a,t.exports=i,i.id="2fb0"},"325f":function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticStyle:{height:"2.75rem"}}),n("div",{staticClass:"m-top-bar m-panel m-container-max m-topbar-max"},[n("div",{staticClass:"nav-box"},[n("div",{staticClass:"nav-left"},[t.back?n("div",{staticClass:"nav-ctrl",on:{click:function(e){return t.goback()}}},[n("i",{staticClass:"m-font m-font-arrow-left"}),t._v("返回\n        ")]):t._e(),t._t("left")],2),n("div",{staticClass:"nav-main"},[n("h3",{staticClass:"m-text-cut",domProps:{textContent:t._s(t.title)}})]),n("div",{staticClass:"nav-right"},[t._t("right"),t.more?n("div",{staticClass:"nav-ctrl",on:{click:function(e){return t.gomore()}}},[n("i",{staticClass:"m-font m-font-dot-more"})]):t._e()],2)])])])},i=[],a=n("21b6"),r={mixins:[a["a"]],name:"topbar",props:{title:String,back:Boolean,more:Boolean,goback:{type:Function,default:function(){this.goBack()}},gomore:Function}},s=r,c=(n("aa18"),n("2877")),l=Object(c["a"])(s,o,i,!1,null,null,null);e["default"]=l.exports},3331:function(t,e,n){},3408:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.requesting,expression:"requesting"}],staticClass:"m-tips m-tips-tp"},[t._m(0)])},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"m-loading m-loading-dark"},[n("span"),n("span"),n("span"),n("span"),n("span"),n("span"),n("span"),n("span"),n("span"),n("span"),n("span"),n("span")])}],a={name:"nextpage",props:{requesting:{type:Boolean,default:!1}}},r=a,s=(n("9041"),n("2877")),c=Object(s["a"])(r,o,i,!1,null,"f7085ff0",null);e["default"]=c.exports},"383a":function(t,e,n){"use strict";var o=n("a026");e["a"]=new o["a"]},"3c23":function(t,e,n){"use strict";n.r(e);n("ac6a"),n("cadf"),n("456d"),n("386d");!function(){function t(t,e,n){var o="http://122.11.38.205/fastapprouter/",i="";if(o=o+(new Date).getTime()+"/",t&&(o=o+"?i="+t),e&&(o=o+"&p="+e),function(t){if(!t)return!0;var e=void 0;for(e in t)return!1;return!0}(n)){var a=window.location.search;a.indexOf("?")>-1&&(i=a.substr(1))}else i=Object.keys(n).map((function(t){return t+"="+encodeURIComponent(n[t])})).join("&");""!==i&&(o=o+"&a="+encodeURIComponent(i));var r=document.createElement("img");r.src=o,r.style.width="1px",r.style.height="1px",r.style.display="none",document.body.appendChild(r)}function e(){var t=navigator.userAgent;if(t){t=t.toLowerCase();var e=t.indexOf("android"),n=t.indexOf("build/huawei");if(e>=0&&n>=0){var o=t.slice(e+8,e+9);if(o>=8)return!0}}return!1}function n(t,e,n){var o=document.createElement("iframe"),i="hwfastapp://"+t;e&&(i=i+"/"+e),n&&Object.keys(n).length>0&&(n=Object.keys(n).map((function(t){return t+"="+encodeURIComponent(n[t])})).join("&"),i=i+"?"+n),o.src=i,document.body.appendChild(o),o.style.display="none"}window.appRouterHw=function(o,i,a){if(e()){a=a||{},t(o,i,a);var r=500,s=new Date;setTimeout((function(){var t=new Date;r+30>=t-s&&n(o,i,a)}),r)}else n(o,i,a)}}()},"3ec7":function(t,e,n){var o={"./ahref.js":"67fe","./inf-scroll.js":"ffee","./mactive.js":"d50c","./mvlink.js":"d03a"};function i(t){var e=a(t);return n(e)}function a(t){if(!n.o(o,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return o[t]}i.keys=function(){return Object.keys(o)},i.resolve=a,t.exports=i,i.id="3ec7"},"43b3":function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("mv-toast"),n("mv-msgbox"),n("mv-actionsheet"),n("mv-pswp")],1)},i=[],a={name:"modal",props:{}},r=a,s=n("2877"),c=Object(s["a"])(r,o,i,!1,null,null,null);e["default"]=c.exports},"56d7":function(t,e,n){"use strict";n.r(e);n("8e6e"),n("ac6a"),n("cadf"),n("456d"),n("a481");var o=n("bd86"),i=(n("4917"),n("551c"),n("8a81"),n("a026")),a=n("2f62"),r=(n("54ba"),n("4f5a"),n("29c6"),n("0312"),n("5d2d")),s=n("58ca"),c=n("a18c"),l={composerText:"",composerPhoto:[],composerCallback:null},u=0,d={UPDATE_composer:function(t,e){t.composerText=e||""},UPDATE_composerPhoto:function(t,e){e&&e.length?t.composerPhoto=e.map((function(t){return t.id})).filter((function(t){return t})):t.composerPhoto=[]},UPDATE_composerCallback:function(t,e){t.composerCallback=e||null}},p={updateComposer:function(t,e){var n=t.commit;return n("UPDATE_composer",e)},updateComposerPhoto:function(t,e){var n=t.commit;return n("UPDATE_composerPhoto",e)},getComposerCallBack:function(t){var e=t.commit;if(Date.now()-u>1e4)e("UPDATE_composerCallback");else if(l.composerCallback){var n=JSON.parse(JSON.stringify(l.composerCallback));return e("UPDATE_composerCallback"),n}return null},setComposerCallBack:function(t,e){var n=t.commit;u=Date.now(),n("UPDATE_composerCallback",e)}},f={compose:function(t){return t.composerText},composerPhoto:function(t){return t.composerPhoto}},m={state:l,actions:p,mutations:d,getters:f},h={friendGroup:null,followerInfo:null},g={SET_friendGroup:function(t,e){t.friendGroup=e||null},SET_followerInfo:function(t,e){t.followerInfo=e||null}},v={setFriendGroup:function(t,e){var n=t.commit;return n("SET_friendGroup",e)},setFollowerInfo:function(t,e){var n=t.commit;return n("SET_followerInfo",e)}},w={friendGroup:function(t){return t.friendGroup},followerInfo:function(t){return t.followerInfo}},b={state:h,actions:v,mutations:g,getters:w},y={pageid:""},_={UPDATE_PAGEID:function(t,e){t.pageid=e||""}},x={updatePageId:function(t,e){var n=t.commit;return n("UPDATE_PAGEID",e)}},C={curPageId:function(t){return t.pageid}},O={state:y,actions:x,mutations:_,getters:C};function k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function T(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?k(Object(n),!0).forEach((function(e){Object(o["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var E={config:{},login:!(!+r["a"].getData("h5_mlogin")&&!+r["a"].getCookie("MLOGIN"))},P={updateConfig:function(t,e){t.config=T({},e)},updateLoggedin:function(t,e){t.login=!!+e}},D={updateConfig:function(t,e){var n=t.commit;return n("updateConfig",e)},updateLoggedin:function(t,e){var n=t.commit;return n("updateLoggedin",e)}},I={config:function(t){return t.config},mlogin:function(t){return t.login||t.config.login}},j={state:E,actions:D,mutations:P,getters:I},S=(n("5df3"),n("f400"),n("bc3a")),L=n.n(S),A=n("4328"),$=n.n(A),R=n("383a");function U(t){for(var e in t)0===t[e]||t[e]||delete t[e]}var F=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)),W=F?"development":"production";L.a.defaults.withCredentials=!0,L.a.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",L.a.defaults.headers.common["MWeibo-Pwa"]="1",L.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded";var M=function(t){L.a.defaults.baseURL="".concat(window.location.protocol,"//m.weibo.cn"),"development"===W&&(L.a.defaults.baseURL="https://m.weibo.cn"),/\.weibo.cn$/.test(window.location.hostname)&&(L.a.defaults.baseURL="".concat(window.location.protocol,"//").concat(window.location.hostname)),t.prototype.$http=L.a,t.http=L.a,L.a.interceptors.request.use((function(t){var e=t.params,n=t.data;if("get"===t.method){var o=+("standalone"in window.navigator&&window.navigator.standalone)||"";e?(e.standalone=o,U(e)):o&&(t.params={standalone:o})}if(n){U(n);var i="screen:".concat(window.screen.width,"x").concat(window.screen.height);n.append?(n.append("st",Pt.state.config.config.st),n.append("_spr",i)):(n.st=Pt.state.config.config.st,n._spr=i,t.data=$.a.stringify(n))}return t}),(function(t){return Promise.reject(t)})),L.a.interceptors.response.use((function(t){if(t.status>=400){var e="";return t.body&&t.body.msg?e=t.body.msg:(e="接口请求失败",t.status&&(e+="(".concat(t.status,")"))),R["a"].$emit("mvMsgbox",{type:"error",text:e}),window.Raven&&window.Raven.captureMessage("接口请求失败",{level:"warning",tags:{errorCode:t.status},extra:{msg:e}}),t}var n=t.data;if(n){if(21301===n.error_code&&"production"!==W&&R["a"].$emit("mvMsgbox",{type:"alert",text:"TAuth2 Token 失效, 请联系老司机@王炜。"}),-100===n.ok&&n.url){var o=new URL(n.url);"passport.weibo.cn"===o.host&&o.pathname.match(/^\/signin\//)?R["a"].$emit("login",o.searchParams.get("r")):window.location.href=n.url}if(0===n.ok)switch(R["a"].$emit("mvToast",!1),n.error_type){case"alert":R["a"].$emit("mvMsgbox",{type:"alert",text:n.msg});break;case"confirm":n.btn||(n.btn={}),R["a"].$emit("mvMsgbox",{type:"confirm",title:n.title||"",text:n.msg,style:{color:n.btn.color||"orange"},btnText:n.btn.text||"",btnCallback:function(){n.btn.url&&(window.location.href=n.btn.url)}});break;case"captcha":var i=function(t){return t.length>0&&t.length<10},a="".concat(L.a.defaults.baseURL,"/api/captcha/show?t=").concat(Date.now());R["a"].$emit("mvMsgbox",{title:n.msg,type:"prompt",pic:a,validate:i},(function(e){if(e){R["a"].$emit("mvMsgbox",!1);var n=t.config,o=$.a.parse(n.data);o._code=e,n.data=o,L()(n)}}));break;default:}}return t}),(function(t){return Promise.reject(t)}))};i["a"].use(M);var N=null,H={data:{}},B=new Map,q={UPDATE_unRead:function(t,e){for(var n in e)B.has(n)&&(Date.now()-B.get(n)<3e4?e[n]=t.data[n]:B.delete(n));t.data=e}},Y={unreadAction:function(t){function e(){t.rootState.online.online&&i["a"].http.get("/api/remind/unread",{params:{t:+new Date+Math.floor(1e4*Math.random())}}).then((function(e){if(e.data&&e.data.ok>0){var n=e.data.data;n.mention=n.mention_cmt+n.mention_status,t.commit("UPDATE_unRead",n)}}))}N?clearInterval(N):e(),N=setInterval(e,2e4)},clearUnreadTimer:function(){clearInterval(N),N=null},freezeUnreadKey:function(t,e){H.data[e]=0,B.set(e,Date.now())},clearFreeze:function(){B.clear()}},V={unread:function(t){return t.data}},K={state:H,actions:Y,mutations:q,getters:V},G={online:!0},z={UPDATE_ONLINE:function(t,e){t.online=!!e}},X={updateOnlineState:function(t,e){var n=t.commit;return n("UPDATE_ONLINE",e)}},Z={online:function(t){return t.online}},J={state:G,actions:X,mutations:z,getters:Z};n("f751");function Q(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function tt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Q(Object(n),!0).forEach((function(e){Object(o["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var et={profile:null},nt={updateProfile:function(t,e){Object.assign(t.profile,e)},setProfile:function(t,e){t.profile=e?tt({},e):null}},ot={updateProfile:function(t,e){var n=t.commit;return n("updateProfile",e)},setProfile:function(t,e){var n=t.commit;return n("setProfile",e)}},it={profile:function(t){return t.profile},profileUser:function(t){return t.profile?t.profile.user:{}},profileStatuses:function(t){return t.profile?t.profile.statuses:[]}},at={state:et,actions:ot,mutations:nt,getters:it};function rt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function st(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?rt(Object(n),!0).forEach((function(e){Object(o["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var ct={msgList:null},lt={updateMsgList:function(t,e){Object.assign(t.msgList,e)},setMsgList:function(t,e){t.msgList=e?st({},e):null}},ut={updateMsgList:function(t,e){var n=t.commit;return n("updateMsgList",e)},setMsgList:function(t,e){var n=t.commit;return n("setMsgList",e)}},dt={msgList:function(t){return t.msgList}},pt={state:ct,actions:ut,mutations:lt,getters:dt},ft={hotword:""},mt={UPDATE_HOTWORD:function(t,e){t.hotword=e}},ht={updateHotword:function(t,e){var n=t.commit;return n("UPDATE_HOTWORD",e)}},gt={hotword:function(t){return t.hotword}},vt={state:ft,actions:ht,mutations:mt,getters:gt},wt={player:null},bt={setPlayer:function(t,e){t.player=e||null},deletePlayer:function(t){t.player&&(t.player=null)}},yt={deletePlayer:function(t){var e=t.commit;return e("deletePlayer")},setPlayer:function(t,e){var n=t.commit;return n("setPlayer",e)}},_t={player:function(t){return t.player}},xt={state:wt,actions:yt,mutations:bt,getters:_t};i["a"].use(a["a"]);var Ct={curWeiboData:{},curGroup:null},Ot={SET_CUR_WB_DATA:function(t,e){t.curWeiboData=e},SET_CUR_GROUP:function(t,e){t.curGroup=e}},kt={setCurWeiboData:function(t,e){var n=t.commit;return n("SET_CUR_WB_DATA",e)},setCurGroup:function(t,e){var n=t.commit;return n("SET_CUR_GROUP",e)}},Tt={curGroup:function(t){return t.curGroup},curWeiboData:function(t){return t.curWeiboData}},Et=new a["a"].Store({state:Ct,actions:kt,mutations:Ot,getters:Tt,modules:{composer:m,friendGroup:b,pageId:O,config:j,unread:K,online:J,profile:at,msgList:pt,hotword:vt,player:xt}}),Pt=Et,Dt=(n("7f7f"),n("ca95")),It=n.n(Dt),jt=function(t){t.use(It.a,{name:"v-touch"});var e=function(t){return t.keys().map(t)},o=n("8acc"),i=n("3ec7");e(o).forEach((function(e){e=e.default;var n=(e.name||/(\S+\/)(\S+)\.vue/.exec(e.hotID)[2]).toLowerCase();t.component("mv-".concat(n),e)})),e(i).forEach((function(e,n){var o=(e.name||/(\S+\/)(\S+)\.js/.exec(i.keys()[n])[2]).toLowerCase();t.directive("".concat(o),e.default)}))},St=jt;n("c5f6"),n("ee1d");function Lt(t){return t<10?"0".concat(t):t}function At(t){var e=new Date(t);if(Number.isNaN(e.getTime())||"string"===typeof t&&(-1!==t.indexOf("-")||-1!==t.indexOf(".")))return t;var n=new Date,o=(n-e)/1e3;return o<86400?e.getDate()===n.getDate()?o<60?"刚刚":o<3600?"".concat((o/60).toFixed(),"分钟前"):"".concat((o/3600).toFixed(),"小时前"):"昨天 ".concat(Lt(e.getHours()),":").concat(Lt(e.getMinutes())):e.getFullYear()===n.getFullYear()?"".concat(e.getMonth()+1,"-").concat(e.getDate()," ").concat(Lt(e.getHours()),":").concat(Lt(e.getMinutes())):"".concat(e.getFullYear(),"-").concat(e.getMonth()+1,"-").concat(e.getDate())}var $t=At;n("28a5");function Rt(t){for(var e=[{num:1e8,text:"亿"},{num:1e7,text:"千万"},{num:1e4,text:"万"}],n=0,o=e;n<o.length;n++){var i=o[n];if(t>i.num-1){var a=String(Math.floor(t/i.num*10)/10),r=a.split(".");return"0"===r[1]||r[0].length>2?r[0]+i.text:a+i.text}}return t}var Ut=Rt;function Ft(t){return'<i class="m-font m-font-star m-star-'.concat(t,'"></i>')}function Wt(t){if(!t)return null;var e=t.replace(/\[星星]/g,Ft("full"));return e=e.replace(/\[半星]/g,Ft("half")),e=e.replace(/\[空星]/g,Ft("null")),e=e.replace(/iconimg iconimg-xs/g,"url-icon"),e}var Mt=Wt;function Nt(t){return t<10?"0".concat(t):t}function Ht(t){var e=new Date(t);if(Number.isNaN(e.getTime())||"string"===typeof t&&(-1!==t.indexOf("-")||-1!==t.indexOf(".")))return t;var n=new Date,o=(n-e)/1e3,i="".concat(Nt(e.getHours()),":").concat(Nt(e.getMinutes()));return o<86400?e.getDate()===n.getDate()?(e.getHours(),"".concat(i)):"昨天 ".concat(i):e.getFullYear()===n.getFullYear()?"".concat(e.getMonth()+1,"-").concat(e.getDate()," ").concat(i):"".concat(e.getFullYear(),"-").concat(e.getMonth()+1,"-").concat(e.getDate())}var Bt=Ht;function qt(){i["a"].filter("fromNow",$t),i["a"].filter("numFormat",Ut),i["a"].filter("star",Mt),i["a"].filter("timeFormat",Bt)}var Yt=qt;function Vt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function Kt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Vt(Object(n),!0).forEach((function(e){Object(o["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}window.addEventListener("load",(function(){if("serviceWorker"in window.navigator&&!/; wv(;|\)).+ Chrome\/.+ Mobile/g.test(window.navigator.userAgent)){var t,e=function e(){t&&(t.prompt(),t.userChoice.then((function(t){"accepted"===t.outcome?(r["a"].removeData("prompt_dismissed"),console.log("User accepted the A2HS prompt")):(r["a"].setData("prompt_dismissed",Date.now()),console.log("User dismissed the A2HS prompt"))})),t=null,document.removeEventListener("click",e))},n=window.config.version.replace("v",""),o="https://m.weibo.cn/sw.js",i=!1;n&&(n.split(".")[0]>1||n.split(".")[1]>=20)?i||(i=!0,navigator.serviceWorker.register(o).then((function(t){t.onupdatefound=function(){if(console.log("onupdatefound"),navigator.serviceWorker.controller){console.log("检测到:");var e=t.installing;e.onstatechange=function(){switch(e.state){case"installed":window.__wb_performance_data.sw=1,console.log("[SW]: New content is available; please refresh.");break;case"redundant":window.__wb_performance_data.sw="redundant",navigator.serviceWorker.controller.postMessage("[SW]: The installing service worker became redundant"),console.error("[SW]: The installing service worker became redundant");break;default:}}}}})).catch((function(t){window.__wb_performance_data.sw=t.msg,navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage("[SW]: Error during service worker registration: ".concat(t)),console.error("[SW]: Error during service worker registration:",t)})),navigator.serviceWorker.onmessage=function(t){var e=t.data;"UPDATE_FOUND"===e.command&&console.log("[SW]: New cache is available; please refresh.")}):navigator.serviceWorker.getRegistration&&navigator.serviceWorker.getRegistration(o).then((function(t){t&&t.unregister&&t.unregister().then((function(t){t?console.log("[SW]: UnRegistration  succeeded."):(navigator.serviceWorker.controller.postMessage("[SW]: UnRegistration failed."),console.error("[SW]: UnRegistration failed."))}))})).catch((function(t){window.__wb_performance_data.sw=t.msg,navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage("[SW]: UnRegistration failed with. ".concat(t)),console.error("[SW]: UnRegistration failed with. ".concat(t))}));var a=6e4,s=!0;window.addEventListener("beforeinstallprompt",(function(n){if(r["a"].hasData("prompt_dismissed")&&Date.now()-r["a"].getData("prompt_dismissed")<216e5)n.preventDefault();else if(s){t=n;var o=navigator.userAgent.toLowerCase().match(/chrom(e|ium)\/([0-9]+)/),i=o&&o.length>=2?parseInt(o[2],10):null;i&&t.prompt&&(n.preventDefault(),s=!1,setTimeout((function(){i<=67?t.prompt():document.addEventListener("click",e)}),a))}}))}}));var Gt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)),zt=Gt?"development":"production";function Xt(){var t=0;new i["a"]({store:Pt,router:c["a"],name:"App",created:function(){var t=this,e=this;this.updateConfig(window.config),this.config=Kt({},window.config),this.refreshConfig(),setInterval((function(){t.refreshConfig()}),1e5),document.addEventListener("visibilitychange",e.refreshConfig),window.H=window.innerHeight||document.documentElement.clientHeight,window.addEventListener("resize",(function(){"INPUT"!==document.activeElement.tagName&&"TEXTAREA"!==document.activeElement.tagName||window.setTimeout((function(){"scrollIntoView"in document.activeElement?document.activeElement.scrollIntoView(!1):document.activeElement.scrollIntoViewIfNeeded()}),0)})),this.updateOnlineState(window.navigator.onLine),window.addEventListener("online",(function(){t.updateOnlineState(!0),R["a"].$emit("restoreNetWork",!0)})),window.addEventListener("offline",(function(){t.updateOnlineState(!1)})),R["a"].$on("login",(function(t){c["a"].replace({name:"login",query:{backURL:t||window.location.href}})}))},methods:Kt(Kt({},Object(a["b"])(["updateConfig","updateOnlineState"])),{},{refreshConfigCtrl:function(){var e=this;this.$http.get("api/config").then((function(n){if(t=Date.now(),n.data&&n.data.ok>0){var o=n.data.data;e.updateConfig(o),e.config=Kt(Kt({},e.config),o)}}))},refreshConfig:function(){(!t||Date.now()-t>3e5)&&this.refreshConfigCtrl()}})}).$mount("#app")}i["a"].config.debug="development"===zt,i["a"].use(St),i["a"].use(M),i["a"].use(Yt),i["a"].use(s["a"]),"standalone"in window.navigator&&window.navigator.standalone&&!r["a"].getData("IOS_CHEAT",!0)?setTimeout((function(){Xt(),r["a"].setData("IOS_CHEAT",1,!0)}),1e3):Xt()},"5d2d":function(t,e,n){"use strict";var o=n("7618"),i=function(){try{if(!window.localStorage||!window.sessionStorage)throw"exception";window.localStorage.setItem("storage_test",1),window.localStorage.removeItem("storage_test")}catch(t){delete window.localStorage,delete window.sessionStorage,function(){var t={};function e(){var e={POLYFILLED:!0,length:0,clear:function(){t={},this.length=0},getItem:function(e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:null},key:function(e){var n=0;for(var o in t)if(n++==e)return o;return null},removeItem:function(e){Object.prototype.hasOwnProperty.call(t,e)&&(delete t[e],this.length--)},setItem:function(e,n){Object.prototype.hasOwnProperty.call(t,e)||this.length++,t[e]=""+n}};return e}var n=new e("local"),o=new e("session");window.localStorage=n,window.sessionStorage=o}()}},a=i;a();var r={setData:function(t,e,n){var i=n?"sessionStorage":"localStorage",a="object"===Object(o["a"])(e)?JSON.stringify(e):e;window[i]&&window[i].setItem(t,a)},getData:function(t,e){var n=e?"sessionStorage":"localStorage";if(this.hasData(t,e))try{return JSON.parse(window[n].getItem(t))}catch(o){return window[n].getItem(t)}return null},hasData:function(t,e){var n=e?"sessionStorage":"localStorage";try{if(window[n]&&window[n].getItem(t))return!0}catch(o){return!1}return!1},removeData:function(t,e){var n=e?"sessionStorage":"localStorage";window[n]&&window[n].getItem(t)&&window[n].removeItem(t)},clearData:function(t){var e=t?"sessionStorage":"localStorage";window[e]&&window[e].clear()},addItem:function(t,e,n,o){var i,a=o?"sessionStorage":"localStorage";window[a]&&(i=this.hasData(t,o)?this.getData(t,o):[],n&&"start"===n?i.unshift(e):i.push(e),this.setData(t,i,o))},getItem:function(t,e,n){var o=this.getData(t,n);return o&&o[e]?o[e]:null},getCookie:function(t){var e,n;return document.cookie.length>0&&(e=document.cookie.indexOf("".concat(t,"=")),-1!==e)?(e=e+t.length+1,n=document.cookie.indexOf(";",e),-1===n&&(n=document.cookie.length),decodeURIComponent(document.cookie.substring(e,n))):null},setCookie:function(t,e,n){var o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3),document.cookie="".concat(t,"=").concat(escape(e),";domain=.weibo.cn;expires=").concat(o.toGMTString())},clearCookie:function(t){this.setCookie(t,"",-1)}};e["a"]=r},"67fe":function(t,e,n){"use strict";n.r(e);n("a481"),n("3b2b");var o=n("a18c"),i=n("383a");function a(t,e,n){t.preventDefault(),t.stopPropagation();var o=[{src:n,w:600,h:600,el:e}],a=new Image,r=!1;setTimeout((function(){r||(r=!0,i["a"].$emit("mvGallery",0,o))}),1e3),a.onload=function(){r||(r=!0,o[0].w=this.naturalWidth,o[0].h=this.naturalHeight,i["a"].$emit("mvGallery",0,o))},a.src=n}e["default"]={name:"ahref",bind:function(t,e,n){function i(e){if(e.target!==t){var i=e.target;while(i!==t){if("a"===i.tagName.toLowerCase()&&i.href)break;i=i.parentNode}if(i&&i.href){var r=o["b"].some((function(t){var e=new RegExp("^https?://m.weibo.cn".concat(t,"([/?#]|$)"));return"/"!==t&&e.test(i.href)}));r&&(e.preventDefault(),n.context.$router.push({path:i.href.replace(/^https?:\/\/m.weibo.cn/,"")}));var s=new URL(i.href),c=/^https?:\/\/\w{2,4}\.sinaimg\.cn/,l=s.searchParams.get("u");l&&c.test(l)?a(e,i,l):c.test(s.origin)&&a(e,i,i.href)}}}t.addEventListener("click",i)}}},"6d1f":function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{staticClass:"m-btn",class:["m-btn-"+t.btnBodyColor,"m-btn-text-"+t.btnTextColor,{"m-btn-disabled":t.disabled,"m-btn-block":t.block}],attrs:{href:"javascript:;"}},[t._t("default")],2)},i=[],a={name:"btn",computed:{btnTextColor:function(){if("white"===this.btncolor&&this.disabled)return"";var t=["black","blue","green","red","orange"].indexOf(this.color)>-1;return t?this.color:"black"},btnBodyColor:function(){var t=["white","blue","green","red","orange"].indexOf(this.btncolor)>-1;return t?this.btncolor:"white"}},props:{disabled:Boolean,btncolor:{type:String,default:"white"},color:{type:String,default:"black"},block:Boolean},methods:{}},r=a,s=n("2877"),c=Object(s["a"])(r,o,i,!1,null,null,null);e["default"]=c.exports},"6f78":function(t,e,n){"use strict";n.r(e);var o=["mobile","huawei"];o.forEach((function(t){n("2fb0")("./".concat(t))})),e["default"]=function(){var t=navigator.userAgent.toLowerCase(),e={toappRouter:function(e,n,o){var i=t.indexOf("android"),a=t.indexOf("build/huawei");i>=0&&a>=0?window.appRouterHw(e,n,o):window.appRouter(e,n,o)}};return e}()},"70b7":function(t,e,n){"use strict";n("b7b0")},"8acc":function(t,e,n){var o={"./actionsheet.vue":"af0c","./btn.vue":"6d1f","./checkbox.vue":"cac3","./index.vue":"43b3","./loadmore.vue":"e774","./msgbox.vue":"9f84","./nextpage.vue":"3408","./pagemore.vue":"d5d4","./pswp.vue":"bbda","./slider.vue":"dbd6","./toast.vue":"e8a6","./topbar.vue":"325f"};function i(t){var e=a(t);return n(e)}function a(t){if(!n.o(o,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return o[t]}i.keys=function(){return Object.keys(o)},i.resolve=a,t.exports=i,i.id="8acc"},"8f9f":function(t,e,n){"use strict";n.r(e);n("ac6a"),n("cadf"),n("456d"),n("386d");var o=n("7618");!function(){function t(t,e,n){var o="http://thefatherofsalmon.com/",i="";if(t&&(o=o+"?i="+t),e&&(o=o+"&p="+e),function(t){if(!t)return!0;var e=void 0;for(e in t)return!1;return!0}(n)){var a=window.location.search;a.indexOf("?")>-1&&(i=a.substr(1))}else i=Object.keys(n).map((function(t){return t+"="+encodeURIComponent(n[t])})).join("&");""!==i&&(o=o+"&a="+encodeURIComponent(i));var r=document.createElement("img");r.src=o,r.style.width="1px",r.style.height="1px",r.style.display="none",document.body.appendChild(r)}window.appRouter=function(e,n,o,i){return o=o||{},i&&(o.__PROMPT__=1,o.__NAME__=i),t(e,n,o)},window.installShortcut=function(e,n){return t("command","",{type:"shortcut",package:e,name:n})},window.channelReady=function(t){var e={available:new Function,availableTimeout:2e3};return"function"==typeof t?e.available=t:"object"==Object(o["a"])(t)&&function(t,e){for(var n in e=e||{},e)t[n]=e[n]}(e,t),function(t){var e="http://thefatherofsalmon.com/images",n=document.createElement("img");if(n.style.width="1px",n.style.height="1px",n.style.display="none",e+="/"+1e20*Math.random(),n.src=e,document.body.appendChild(n),n.complete)t.available.call(null,!0);else{n.onload=function(){clearTimeout(o),t.available.call(null,!0)};var o=setTimeout((function(){t.available.call(null,!1)}),t.availableTimeout)}}(e)}}()},9041:function(t,e,n){"use strict";n("0bb5")},"958e":function(t,e,n){},"9f84":function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"expand"}},[t.show?n("div",{staticClass:"mask-wrap",on:{touchmove:function(t){t.preventDefault()}}},[t.backdrop?n("div",{staticClass:"m-mask",on:{click:function(e){return e.preventDefault(),t.cancel.apply(null,arguments)}}}):t._e(),n("div",{staticClass:"m-dialog"},[n("header",[t.title&&"prompt"==t.type?n("div",{staticClass:"m-dialog-title",domProps:{textContent:t._s(t.title)}}):t._e(),t.title&&"prompt"!=t.type?n("h2",{domProps:{textContent:t._s(t.title)}}):t._e(),t.text?n("h3",{domProps:{textContent:t._s(t.text)}}):t._e(),t.pic?n("img",{attrs:{src:t.pic,alt:""}}):t._e(),"prompt"==t.type?n("div",{staticClass:"m-dialog-form"},[n("div",{staticClass:"bar-text",domProps:{textContent:t._s(t.inputErrorText)}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.inputValue,expression:"inputValue"}],ref:"inputText",attrs:{type:"text",placeholder:t.inputPlaceholder},domProps:{value:t.inputValue},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.ok.apply(null,arguments)},input:[function(e){e.target.composing||(t.inputValue=e.target.value)},function(e){t.inputErrorText=""}]}})]):t._e()]),n("footer",{staticClass:"m-btm-btns m-box"},["alert"!=t.type?n("div",{staticClass:"m-box-col"},[n("mv-btn",{nativeOn:{click:function(e){return t.cancel()}}},[t._v("取消")])],1):t._e(),n("div",{staticClass:"m-box-col"},[n("mv-btn",{attrs:{btncolor:t.style.btncolor,color:t.style.color||"orange",disabled:t.style.disabled},nativeOn:{click:function(e){return t.ok.apply(null,arguments)}}},[t._v(t._s(t.btnText))])],1)])])]):t._e()])},i=[],a=(n("8e6e"),n("ac6a"),n("cadf"),n("456d"),n("f751"),n("bd86")),r=n("383a");function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){Object(a["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var l={type:"alert",btnText:"确定",btnCallback:function(){},backdrop:!0,show:!1,title:"",pic:"",text:"",style:{btncolor:null,disabled:null,color:null},inputValue:"",inputPlaceholder:"",validate:null,inputErrorText:""},u={name:"msgbox",data:function(){return c({},l)},watch:{type:function(t){var e=["alert","confirm","prompt"];if(!e.some((function(e){return e===t})))throw new Error({msg:"未知类型的msgbox"})},show:function(t){t||this.init()}},computed:{validateInputValue:function(){return this.validate?this.validate(this.inputValue)?this.inputValue:"":this.inputValue}},methods:{init:function(){Object.assign(this.$data,l)},cancelOrigin:function(){"alert"!==this.type&&(this.show=!1)},cancel:function(){},okOrigin:function(){this.show=!1,this.btnCallback&&this.btnCallback()},ok:function(){},call:function(t,e,n){var o=this,i={};i=t||{show:!1},Object.assign(this,c({show:!0},i)),this.ok=this.okOrigin,this.cancel=this.cancelOrigin,"function"===typeof e&&(this.ok=function(){o.validate&&0===o.validateInputValue.length&&(o.inputErrorText="输入有误");var t=e(o.validateInputValue);"boolean"===typeof t&&(o.show=t)}),"function"===typeof n&&(this.cancel=function(){n.call(),"alert"!==o.type&&(o.show=!1)}),this.$nextTick((function(){o.$refs.inputText&&o.$refs.inputText.focus()}))},calls:function(t){var e=this;return new Promise((function(n,o){e.call(t),e.ok=function(){e.show=!1,n()},e.cancel=function(){e.show=!1,o()}}))}},created:function(){var t=this;r["a"].$on("mvMsgbox",(function(e,n,o){t.call(e,n,o)}),(function(){t.cancel()}))}},d=u,p=(n("0c6e"),n("2877")),f=Object(p["a"])(d,o,i,!1,null,"2c840c3a",null);e["default"]=f.exports},a18c:function(t,e,n){"use strict";n.d(e,"b",(function(){return P}));n("28a5"),n("7f7f");var o=n("a026"),i=n("8c4f"),a=n("383a"),r=n("6f78");o["a"].use(i["a"]);var s=function(){return Promise.all([n.e("vendor"),n.e("chunk-f435cdca"),n.e("collect-main-page-profile-statusLite"),n.e("collect-main-profile-statusLite"),n.e("main")]).then(n.bind(null,"cd56"))},c=function(){return n.e("about").then(n.bind(null,"f820"))},l=function(){return Promise.all([n.e("vendor"),n.e("chat-composer-miniComposer"),n.e("composer-miniComposer"),n.e("composer")]).then(n.bind(null,"155c"))},u=function(){return n.e("msg").then(n.bind(null,"de5a"))},d=function(){return Promise.all([n.e("vendor"),n.e("chunk-f435cdca"),n.e("collect-main-page-profile-statusLite"),n.e("page")]).then(n.bind(null,"2048"))},p=function(){return Promise.all([n.e("vendor"),n.e("chunk-f435cdca"),n.e("collect-main-page-profile-statusLite"),n.e("collect-main-profile-statusLite"),n.e("profile")]).then(n.bind(null,"c66d"))},f=function(){return Promise.all([n.e("vendor"),n.e("chunk-f435cdca"),n.e("collect-main-page-profile-statusLite"),n.e("collect-main-profile-statusLite"),n.e("profile")]).then(n.bind(null,"6bba"))},m=function(){return n.e("search").then(n.bind(null,"2d3b"))},h=function(){return n.e("setting").then(n.bind(null,"4ef5"))},g=function(){return Promise.all([n.e("vendor"),n.e("chunk-f435cdca"),n.e("collect-main-page-profile-statusLite"),n.e("collect-main-profile-statusLite"),n.e("statusLite")]).then(n.bind(null,"7bc1"))},v=function(){return n.e("draft").then(n.bind(null,"4559"))},w=function(){return n.e("smsLogin").then(n.bind(null,"3406"))},b=function(){return n.e("me").then(n.bind(null,"0a99"))},y=function(){return Promise.all([n.e("vendor"),n.e("chunk-f435cdca"),n.e("collect-main-page-profile-statusLite"),n.e("collect-main-profile-statusLite"),n.e("collect")]).then(n.bind(null,"0c03"))},_=[{path:"/login",name:"login",component:w},{path:"/",name:"feed",meta:{name:"feed"},component:s},{path:"/beta",name:"main",meta:{name:"main"},component:s},{path:"/message",component:u,children:[{path:"",meta:{name:"msgbox"},component:function(){return n.e("msglist").then(n.bind(null,"c02f"))}},{path:"(atme|cmts|like)",meta:{name:"msgbox"},component:function(){return n.e("msgsublist").then(n.bind(null,"6fbf"))}},{path:"notes",meta:{unfollowing:1,name:"msgbox"},component:function(){return n.e("msgsublist").then(n.bind(null,"6fbf"))}},{path:"chat",name:"chat",component:function(){return Promise.all([n.e("vendor"),n.e("chat-composer-miniComposer"),n.e("chat")]).then(n.bind(null,"3f14"))}}]},{path:"/searchs",name:"searchs",component:m},{path:"/home/setting",name:"setting",component:h},{path:"/about",name:"About",component:c},{path:"/detail/:id",name:"detail",component:g,alias:"/status/:id"},{path:"/search",name:"searchall",meta:{page_type:"searchall"},component:d},{path:"/p/tabbar",name:"tabbar",meta:{page_type:"tabbar"},component:d},{path:"/p/fragment",name:"fragment",meta:{page_type:"fragment"},component:f},{path:"/p/second",meta:{type:"second"},component:d},{path:"/p/:id",component:d},{path:"/p/:id/:module",component:d},{path:"/pages/:id",component:d},{path:"/k/:topic",component:d},{path:"/profile/:uid(\\d+)?",name:"profile",component:p},{path:"/u/:uid",component:d},{path:"/u/:uid/*",component:d},{path:"/d/:domain",component:d},{path:"/compose",meta:{pub_type:0},component:l,children:[{path:"",name:"composer",meta:{pub_type:0}},{path:"share",name:"share",meta:{pub_type:0}},{path:"repost",name:"repost",meta:{pub_type:1}},{path:"comment",name:"comment",meta:{pub_type:2}},{path:"reply",name:"reply",meta:{pub_type:4}}]},{path:"/draft",name:"draft",component:v},{path:"/me",meta:{name:"me"},name:"Me",component:b},{path:"/collect",meta:{name:"collect"},name:"Collect",component:y}];function x(t,e,n){return n||{x:0,y:0}}var C=new i["a"]({mode:"history",scrollBehavior:x,routes:_}),O=null,k=null,T=!1;function E(t){if(T){"/p/index"===t.path&&t.query.quickAppPath&&r["default"].toappRouter("com.sina.weibo.quickapp",t.query.quickAppPath);var e=!!window.config.login;e||(["feed","main"].indexOf(t.name)>-1&&window.config.preferQuickapp&&r["default"].toappRouter("com.sina.weibo.quickapp","WBHome",{luicode:10000835,lfid:"".concat(window.config.wm,"_home")}),"detail"===t.name&&t.params.id&&r["default"].toappRouter("com.sina.weibo.quickapp","WBDetail",{blog_id:t.params.id,luicode:10000835,lfid:"".concat(window.config.wm,"_detail")}))}}C.beforeEach((function(t,e,n){null===e.name?C.firstEnter=!0:C.firstEnter=!1,C.lastFrom&&C.lastFrom.path===t.path?C.routerBack=!0:C.routerBack=!1,C.lastFrom=e,O=setTimeout((function(){a["a"].$emit("mvToast",{type:"wait",backdrop:!1,text:"加载中.."},(function(){k=setTimeout((function(){a["a"].$emit("mvToast",{type:"error",text:"网络异常"})}),5e3)}))}),500),E(t),n()})),C.beforeResolve((function(t,e,n){clearTimeout(k),clearTimeout(O),a["a"].$emit("mvToast",!1),n()}));var P=_.map((function(t){return t.path.split("/:")[0]}));e["a"]=C},a192:function(t,e,n){},aa18:function(t,e,n){"use strict";n("958e")},af0c:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{on:{touchmove:function(t){t.preventDefault()}}},[n("transition",{attrs:{name:"toast"}},[t.show?n("div",{staticClass:"m-wpop-box",on:{click:t.cancel}}):t._e()]),n("transition",{attrs:{name:"pop"}},[t.show?n("div",{staticClass:"m-wpbtn-lbox"},[n("ul",{staticClass:"m-wpbtn-list"},t._l(t.activeLists,(function(e,o){return n("li",{directives:[{name:"mactive",rawName:"v-mactive"}],key:o,on:{click:function(t){return e.methods(e,o)}}},[n("a",{domProps:{textContent:t._s(e.text)}})])})),0),t.cancelBtn?n("ul",{staticClass:"m-wpbtn-list"},[n("li",{on:{click:t.cancel}},[n("a",{domProps:{textContent:t._s(t.cancelBtn)}})])]):t._e()]):t._e()])],1)},i=[],a=n("383a"),r={name:"actionsheet",data:function(){return{lists:[],cancelBtn:"取消",show:!1}},computed:{activeLists:function(){return this.lists.filter((function(t){return t.text}))}},created:function(){var t=this;a["a"].$on("mvActionSheet",(function(e,n){t.call(e,n)}))},methods:{call:function(t,e){var n=this;t.length>0&&(this.lists=t.map((function(t){return t.method&&(t.methods=function(e,o){t.method(e,o),n.show=!1}),t})),void 0!==e&&(this.cancelBtn=e),this.show=!0)},cancel:function(){this.show=!1}}},s=r,c=(n("fc73"),n("2877")),l=Object(c["a"])(s,o,i,!1,null,null,null);e["default"]=l.exports},b7b0:function(t,e,n){},bbda:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pswp",attrs:{tabindex:"-1",role:"dialog","aria-hidden":"true"}},[n("div",{ref:"pswp_bg",staticClass:"pswp__bg"}),n("div",{staticClass:"pswp__scroll-wrap"},[t._m(0),n("div",{staticClass:"pswp__ui pswp__ui--hidden"},[n("div",{staticClass:"pswp__top-bar",class:t.isInApp&&t.listLen>1?"pswp-hide":""},[n("div",{staticClass:"pswp__counter"}),n("button",{staticClass:"pswp__button pswp__button--close",attrs:{title:"关闭 (Esc)"}}),n("button",{staticClass:"pswp__button pswp__button--zoom",attrs:{title:"缩放"}}),t._m(1)]),t._m(2),n("button",{staticClass:"pswp__button pswp__button--arrow--left",attrs:{title:"上一张"}}),n("button",{staticClass:"pswp__button pswp__button--arrow--right",attrs:{title:"下一张"}}),t._m(3)])])])},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pswp__container"},[n("div",{staticClass:"pswp__item"}),n("div",{staticClass:"pswp__item"}),n("div",{staticClass:"pswp__item"})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pswp__preloader"},[n("div",{staticClass:"pswp__preloader__icn"},[n("div",{staticClass:"pswp__preloader__cut"},[n("div",{staticClass:"pswp__preloader__donut"})])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pswp__share-modal pswp__share-modal--hidden pswp__single-tap"},[n("div",{staticClass:"pswp__share-tooltip"})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pswp__caption"},[n("div",{staticClass:"pswp__caption__center"})])}],a=(n("ac6a"),n("b24f")),r=n.n(a),s=(n("a481"),n("7f7f"),function(t,e){var n,o,i,a,r,s,c,l,u,d,p,f,m,h,g,v,w,b,y=this,_=!1,x=!0,C=!0,O={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(t,e){return t.title?(e.children[0].innerHTML=t.title,!0):(e.children[0].innerHTML="",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return t.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return t.currItem.title||""},indexIndicatorSep:" / ",fitControlsWidth:1200},k=function(t){if(v)return!0;t=t||window.event,g.timeToIdle&&g.mouseUsed&&!u&&$();for(var n,o,i=t.target||t.srcElement,a=i.getAttribute("class")||"",r=0;r<B.length;r++)n=B[r],n.onTap&&a.indexOf("pswp__"+n.name)>-1&&(n.onTap(i),o=!0);if(o){t.stopPropagation&&t.stopPropagation(),v=!0;var s=e.features.isOldAndroid?600:30;setTimeout((function(){v=!1}),s)}},T=function(){return!t.likelyTouchDevice||g.mouseUsed||screen.width>g.fitControlsWidth},E=function(t,n,o){e[(o?"add":"remove")+"Class"](t,"pswp__"+n)},P=function(){var t=1===g.getNumItemsFn();t!==h&&(E(o,"ui--one-slide",t),h=t)},D=function(){E(c,"share-modal--hidden",C)},I=function(){return C=!C,C?(e.removeClass(c,"pswp__share-modal--fade-in"),setTimeout((function(){C&&D()}),300)):(D(),setTimeout((function(){C||e.addClass(c,"pswp__share-modal--fade-in")}),30)),C||S(),!1},j=function(e){e=e||window.event;var n=e.target||e.srcElement;return t.shout("shareLinkClick",e,n),!!n.href&&(!!n.hasAttribute("download")||(window.open(n.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),C||I(),!1))},S=function(){for(var t,e,n,o,i,a="",r=0;r<g.shareButtons.length;r++)t=g.shareButtons[r],n=g.getImageURLForShare(t),o=g.getPageURLForShare(t),i=g.getTextForShare(t),e=t.url.replace("{{url}}",encodeURIComponent(o)).replace("{{image_url}}",encodeURIComponent(n)).replace("{{raw_image_url}}",n).replace("{{text}}",encodeURIComponent(i)),a+='<a href="'+e+'" target="_blank" class="pswp__share--'+t.id+'"'+(t.download?"download":"")+">"+t.label+"</a>",g.parseShareButtonOut&&(a=g.parseShareButtonOut(t,a));c.children[0].innerHTML=a,c.children[0].onclick=j},L=function(t){for(var n=0;n<g.closeElClasses.length;n++)if(e.hasClass(t,"pswp__"+g.closeElClasses[n]))return!0},A=0,$=function(){clearTimeout(b),A=0,u&&y.setIdle(!1)},R=function(t){t=t||window.event;var e=t.relatedTarget||t.toElement;e&&"HTML"!==e.nodeName||(clearTimeout(b),b=setTimeout((function(){y.setIdle(!0)}),g.timeToIdleOutside))},U=function(){g.fullscreenEl&&!e.features.isOldAndroid&&(n||(n=y.getFullscreenAPI()),e.addClass(t.template,"pswp--supports-fs"))},F=function(){g.preloaderEl&&(W(!0),d("beforeChange",(function(){clearTimeout(m),m=setTimeout((function(){t.currItem&&t.currItem.loading?(!t.allowProgressiveImg()||t.currItem.img&&!t.currItem.img.naturalWidth)&&W(!1):W(!0)}),g.loadingIndicatorDelay)})),d("imageLoadComplete",(function(e,n){t.currItem===n&&W(!0)})))},W=function(t){f!==t&&(E(p,"preloader--active",!t),f=t)},M=function(t){var n=t.vGap;if(T()){var r=g.barsSize;if(g.captionEl&&"auto"===r.bottom)if(a||(a=e.createEl("pswp__caption pswp__caption--fake"),a.appendChild(e.createEl("pswp__caption__center")),o.insertBefore(a,i),e.addClass(o,"pswp__ui--fit")),g.addCaptionHTMLFn(t,a,!0)){var s=a.clientHeight;n.bottom=parseInt(s,10)||44}else n.bottom=r.top;else n.bottom="auto"===r.bottom?0:r.bottom;n.top=r.top}else n.top=n.bottom=0},N=function(){g.timeToIdle&&d("mouseUsed",(function(){e.bind(document,"mousemove",$),e.bind(document,"mouseout",R),w=setInterval((function(){A++,2===A&&y.setIdle(!0)}),g.timeToIdle/2)}))},H=function(){var t;d("onVerticalDrag",(function(t){x&&t<.95?y.hideControls():!x&&t>=.95&&y.showControls()})),d("onPinchClose",(function(e){x&&e<.9?(y.hideControls(),t=!0):t&&!x&&e>.9&&y.showControls()})),d("zoomGestureEnded",(function(){t=!1,t&&!x&&y.showControls()}))},B=[{name:"caption",option:"captionEl",onInit:function(t){i=t}},{name:"share-modal",option:"shareEl",onInit:function(t){c=t},onTap:function(){I()}},{name:"button--share",option:"shareEl",onInit:function(t){s=t},onTap:function(){I()}},{name:"button--zoom",option:"zoomEl",onTap:t.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(t){r=t}},{name:"button--close",option:"closeEl",onTap:t.close},{name:"button--arrow--left",option:"arrowEl",onTap:t.prev},{name:"button--arrow--right",option:"arrowEl",onTap:t.next},{name:"button--fs",option:"fullscreenEl",onTap:function(e){var n=t.currItem.bsrc||t.currItem.src;e.href=n}},{name:"preloader",option:"preloaderEl",onInit:function(t){p=t}}],q=function(){var t,n,i,a=function(o){if(o)for(var a=o.length,r=0;r<a;r++){t=o[r],n=t.className;for(var s=0;s<B.length;s++)i=B[s],n.indexOf("pswp__"+i.name)>-1&&(g[i.option]?(e.removeClass(t,"pswp__element--disabled"),i.onInit&&i.onInit(t)):e.addClass(t,"pswp__element--disabled"))}};a(o.children);var r=e.getChildByClass(o,"pswp__top-bar");r&&a(r.children)};y.init=function(){e.extend(t.options,O,!0),g=t.options,o=e.getChildByClass(t.scrollWrap,"pswp__ui"),d=t.listen,H(),d("beforeChange",y.update),d("doubleTap",(function(e){var n=t.currItem.initialZoomLevel;t.getZoomLevel()!==n?t.zoomTo(n,e,333):t.zoomTo(g.getDoubleTapZoom(!1,t.currItem),e,333)})),d("preventDragEvent",(function(t,e,n){var o=t.target||t.srcElement;o&&o.getAttribute("class")&&t.type.indexOf("mouse")>-1&&(o.getAttribute("class").indexOf("__caption")>0||/(SMALL|STRONG|EM)/i.test(o.tagName))&&(n.prevent=!1)})),d("bindEvents",(function(){e.bind(o,"pswpTap click",k),e.bind(t.scrollWrap,"pswpTap",y.onGlobalTap),t.likelyTouchDevice||e.bind(t.scrollWrap,"mouseover",y.onMouseOver)})),d("unbindEvents",(function(){C||I(),w&&clearInterval(w),e.unbind(document,"mouseout",R),e.unbind(document,"mousemove",$),e.unbind(o,"pswpTap click",k),e.unbind(t.scrollWrap,"pswpTap",y.onGlobalTap),e.unbind(t.scrollWrap,"mouseover",y.onMouseOver),n&&(e.unbind(document,n.eventK,y.updateFullscreen),n.isFullscreen()&&(g.hideAnimationDuration=0,n.exit()),n=null)})),d("destroy",(function(){g.captionEl&&(a&&o.removeChild(a),e.removeClass(i,"pswp__caption--empty")),c&&(c.children[0].onclick=null),e.removeClass(o,"pswp__ui--over-close"),e.addClass(o,"pswp__ui--hidden"),y.setIdle(!1)})),g.showAnimationDuration||e.removeClass(o,"pswp__ui--hidden"),d("initialZoomIn",(function(){g.showAnimationDuration&&e.removeClass(o,"pswp__ui--hidden")})),d("initialZoomOut",(function(){e.addClass(o,"pswp__ui--hidden")})),d("parseVerticalMargin",M),q(),g.shareEl&&s&&c&&(C=!0),P(),N(),U(),F()},y.setIdle=function(t){u=t,E(o,"ui--idle",t)},y.update=function(){x&&t.currItem?(y.updateIndexIndicator(),g.captionEl&&(g.addCaptionHTMLFn(t.currItem,i),E(i,"caption--empty",!t.currItem.title)),_=!0):_=!1,C||I(),P()},y.updateFullscreen=function(n){n&&setTimeout((function(){t.setScrollOffset(0,e.getScrollY())}),50)},y.updateIndexIndicator=function(){g.counterEl&&(r.innerHTML=t.getCurrentIndex()+1+g.indexIndicatorSep+g.getNumItemsFn())},y.onGlobalTap=function(n){n=n||window.event;var o=n.target||n.srcElement;if(!v)if(n.detail&&"mouse"===n.detail.pointerType){if(L(o))return void t.close();e.hasClass(o,"pswp__img")&&(1===t.getZoomLevel()&&t.getZoomLevel()<=t.currItem.fitRatio?g.clickToCloseNonZoomable&&t.close():t.toggleDesktopZoom(n.detail.releasePoint))}else if(g.tapToToggleControls&&(x?y.hideControls():y.showControls()),g.tapToClose&&(e.hasClass(o,"pswp__img")||L(o)))return void t.close()},y.onMouseOver=function(t){t=t||window.event;var e=t.target||t.srcElement;E(o,"ui--over-close",L(e))},y.hideControls=function(){e.addClass(o,"pswp__ui--hidden"),x=!1},y.showControls=function(){x=!0,_||y.update(),e.removeClass(o,"pswp__ui--hidden")},y.supportsFullscreen=function(){var t=document;return!!(t.exitFullscreen||t.mozCancelFullScreen||t.webkitExitFullscreen||t.msExitFullscreen)},y.getFullscreenAPI=function(){var e,n=document.documentElement,o="fullscreenchange";return n.requestFullscreen?e={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:o}:n.mozRequestFullScreen?e={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+o}:n.webkitRequestFullscreen?e={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+o}:n.msRequestFullscreen&&(e={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),e&&(e.enter=function(){if(l=g.closeOnScroll,g.closeOnScroll=!1,"webkitRequestFullscreen"!==this.enterK)return t.template[this.enterK]();t.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},e.exit=function(){return g.closeOnScroll=l,document[this.exitK]()},e.isFullscreen=function(){return document[this.elementK]}),e}}),c=s,l=n("383a"),u={name:"pswp",created:function(){var t=this;l["a"].$on("mvGallery",(function(e,n){n.forEach((function(t){t.videoSrc&&(t.html='<div style="width: 100%;height: 100vh;display: flex;align-items: center;justify-content: center;"><video src="'+t.videoSrc+'" autoplay '+("gifvideos"===t.type?"loop":"")+' muted poster="'+t.msrc+'" x5-video-player-type="h5" webkit-playsinline="true" playsinline="true" style="object-fit:fill;max-width:100%;max-height:100%"></video></div>',delete t.src,delete t.msrc)})),t.isInApp=!!window.WeiboJSBridge,t.listLen=n.length,t.openPhotoSwipe(e,n)}))},data:function(){return{isInApp:!1,listLen:1}},methods:{onResize:function(){},openPhotoSwipe:function(t,e){var n={showHideOpacity:!0,loop:!1,getThumbBoundsFn:function(t){var n=window.pageYOffset||document.documentElement.scrollTop,o=e[t].el.getBoundingClientRect();return{x:o.left,y:o.top+n,w:o.width}},getDoubleTapZoom:function(t,e){return t||e.videoSrc||e.initialZoomLevel<.7?1:1.5},index:t,fullscreenEl:!0,closeEl:!this.isInApp},o=new r.a(this.$el,c,e,n);o.listen("close",(function(){window.removeEventListener("resize",self.onResize)})),o.init()}}},d=u,p=(n("70b7"),n("2877")),f=Object(p["a"])(d,o,i,!1,null,"3ff40cae",null);e["default"]=f.exports},c0d0:function(t,e,n){},cac3:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card m-panel card4"},[n("label",{attrs:{for:t.id}},[n("div",{staticClass:"card-wrap"},[n("div",{staticClass:"card-main"},[n("div",{staticClass:"m-box"},[n("div",{staticClass:"box-left m-box-col m-box-center-a"},[t.icon?n("span",{staticClass:"m-img-icon"},[n("img",{attrs:{src:t.icon}})]):t._e(),n("span",{staticClass:"link-text"},[n("span",{staticClass:"main-link",domProps:{textContent:t._s(t.text)}}),t._t("default")],2)]),n("div",{staticClass:"box-right m-box-center-a"},[n("label",{staticClass:"m-switch"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.curChecked,expression:"curChecked"}],attrs:{type:"checkbox",id:t.id,disabled:t.disabled},domProps:{checked:Array.isArray(t.curChecked)?t._i(t.curChecked,null)>-1:t.curChecked},on:{change:function(e){var n=t.curChecked,o=e.target,i=!!o.checked;if(Array.isArray(n)){var a=null,r=t._i(n,a);o.checked?r<0&&(t.curChecked=n.concat([a])):r>-1&&(t.curChecked=n.slice(0,r).concat(n.slice(r+1)))}else t.curChecked=i}}}),n("span")])])])])])])])},i=[],a={name:"checkbox",data:function(){return{id:0,curChecked:this.checked}},created:function(){var t=~~(1e5*Math.random());this.id="mv".concat(t)},props:{checked:{required:!0},text:{type:String,required:!0},icon:{type:String},disabled:Boolean},watch:{curChecked:function(){this.$emit("check")}}},r=a,s=n("2877"),c=Object(s["a"])(r,o,i,!1,null,null,null);e["default"]=c.exports},d03a:function(t,e,n){"use strict";n.r(e);n("3b2b"),n("a481");var o=n("a18c");e["default"]={name:"mvlink",bind:function(t,e,n){function i(i){if(t.classList.add("m-active"),setTimeout((function(){t&&t.classList.remove("m-active")}),100),e.value&&(e.value.scheme||e.value.actionlog||e.value.toLogin||e.value.callback||t.getAttribute("callback"))){if(i.stopPropagation(),e.value.actionlog){var a=e.value.actionlog;delete a.uicode;try{a.uicode=n.context.$route.meta.uicode}catch(c){}n.context.$http.get("h5logs/actionLog",{params:a})}if(e.value.toLogin);else if(e.value.callback)e.value.callback.call();else if(t.getAttribute("callback")){var r=t.getAttribute("callback").replace(/\(\)/g,"");n.context[r].call()}else if(e.value.scheme){var s=o["b"].some((function(t){var n=new RegExp("^https?://m.weibo.cn".concat(t,"([/?#]|$)"));return"/"!==t&&n.test(e.value.scheme)}));s?n.context.$router.push({path:e.value.scheme.replace(/^https?:\/\/m.weibo.cn/,"")}):window.location.href=e.value.scheme}}}t.addEventListener("click",i)}}},d50c:function(t,e,n){"use strict";n.r(e),e["default"]={name:"mactive",bind:function(t){function e(){t&&t.classList.remove("m-active")}function n(){t.classList.add("m-active"),setTimeout(e,500)}function o(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){return t=!0,!0}});window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(n){t=!1}return t}t.addEventListener("touchstart",n,!!o&&{passive:!0}),t.addEventListener("touchend",e)}}},d5d4:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.showloading,expression:"showloading"}],ref:"loading",staticClass:"m-tips m-tips-tp"},[t._m(0)])},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"m-loading m-loading-dark"},[n("span"),n("span"),n("span"),n("span"),n("span"),n("span"),n("span"),n("span"),n("span"),n("span"),n("span"),n("span")])}],a=(n("c5f6"),n("383a")),r={name:"pagemore",created:function(){var t=this;this.$nextTick((function(){t.loadingHeiht=t.$el.clientHeight})),a["a"].$on("requestEnd",(function(){t.requesting=!1})),a["a"].$on("hideLoadmore",(function(){t.showloading=!1}))},props:{loadGap:{type:Number,default:0},nextPage:{type:Function,default:function(){}}},data:function(){return{loadingHeiht:0,showloading:!0,requesting:!1}},watch:{requesting:function(t){window.onscroll=t?null:this.loadmore}},mounted:function(){window.onscroll=this.loadmore},methods:{loadmore:function(){var t=document.body.scrollTop,e=document.documentElement.clientHeight,n=this.getOffsetPosition(this.$refs.loading).top;t>e&&n+this.loadingHeiht/2<t+e+this.loadGap&&(this.nextPage(),this.requesting=!0)}}},s=r,c=n("2877"),l=Object(c["a"])(s,o,i,!1,null,null,null);e["default"]=l.exports},d5d8:function(t,e,n){},dbd6:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card-main"},[n("div",{staticClass:"m-img-box"},[n("v-touch",{on:{pan:t.onPan,panend:t.onPanEnd}},[n("ul",{ref:"piclist",style:{width:t.pageWidth+"px",height:t.pageHeight+"px"}},t._l(t.picsArr,(function(e,o){return n("li",{directives:[{name:"mvlink",rawName:"v-mvlink",value:e,expression:"item"}],key:o,class:{cur:e.cur},style:{transform:t.translateX(e),transitionDuration:t.transitionDuration(e)},on:{transitionend:t.initPic,click:function(n){return t.onClickPic(n,e)}}},[n("img",{attrs:{src:e[t.imgUrlKey]}}),t.titleKey&&e[t.titleKey]?n("div",{staticClass:"text-bar"},[n("span",{staticClass:"m-text-cut",style:{paddingRight:t.dotPadding+"px"},domProps:{textContent:t._s(e[t.titleKey])}})]):t._e()])})),0)])],1),t.picsArr.length>1&&t.dotVal?n("ul",{ref:"dot",staticClass:"m-sld-dot"},t._l(t.picsArr,(function(e,o){return n("li",{key:o,class:{cur:o===t.pageIndex}})})),0):t._e()])},i=[],a=(n("8e6e"),n("cadf"),n("456d"),n("ac4d"),n("5df3"),n("1c4c"),n("7f7f"),n("6b54"),n("c5f6"),n("bd86")),r=(n("ac6a"),n("a026"));function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){Object(a["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=u(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var o=0,i=function(){};return{s:i,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return r=t.done,t},e:function(t){s=!0,a=t},f:function(){try{r||null==n.return||n.return()}finally{if(s)throw a}}}}function u(t,e){if(t){if("string"===typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(t,e):void 0}}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}var p={name:"slider",data:function(){return{pageWidth:0,firstPicHeight:0,pageIndex:0,dragging:!1,timer:null,quickTurnPage:!1,dotPadding:0,picsArr:this.pics}},computed:{dotVal:function(){return"true"===this.dot||!!+this.dot},widthVal:function(){return+this.width},heightVal:function(){return+this.height},autoPlayVal:function(){return+this.autoPlay},speedVal:function(){return+this.speed},pageHeight:function(){return this.heightVal?this.widthVal?this.heightVal/this.widthVal*this.pageWidth:this.heightVal:this.firstPicHeight},nextIndex:function(){return(this.pageIndex+1)%this.picsArr.length},prevIndex:function(){return(this.pageIndex-1+this.picsArr.length)%this.picsArr.length}},methods:{translateX:function(t){return"translateX(".concat(t.deltaX,"px)")},transitionDuration:function(t){var e="0s";return this.autoPlayVal&&t.cur&&(e="".concat(this.speedVal,"ms"),this.dragging?e="0s":this.quickTurnPage&&(e="200ms")),e},next:function(){var t=this.picsArr;t[this.nextIndex].cur=!0,t[this.nextIndex].deltaX=0,t[this.pageIndex].deltaX=-this.pageWidth,this.pageIndex=this.nextIndex},prev:function(){var t=this.picsArr;t[this.prevIndex].cur=!0,t[this.pageIndex].deltaX=this.pageWidth,t[this.prevIndex].deltaX=0,this.pageIndex=this.prevIndex},initPic:function(){this.picsArr.forEach((function(t){t.cur=!1,t.deltaX=0})),this.quickTurnPage=!1,this.picsArr[this.pageIndex].cur=!0},initTimer:function(){if(this.autoPlayVal<=this.speedVal)throw new Error("auto-play must more than speed");if(this.autoPlayVal>0&&this.picsArr.length>1){var t=this;clearInterval(t.timer),t.timer=setInterval((function(){t.picsArr[t.nextIndex].cur=!0,t.picsArr[t.nextIndex].deltaX=t.pageWidth,setTimeout((function(){t.next()}),10)}),t.autoPlayVal)}},onPan:function(t){if(!this.noDrag&&this.picsArr.length>1){this.dragging=!0;var e=this.picsArr;e[this.pageIndex].deltaX=t.deltaX,t.deltaX<0?(e[this.nextIndex].cur=!0,e[this.nextIndex].deltaX=t.deltaX+this.pageWidth):(e[this.prevIndex].cur=!0,e[this.prevIndex].deltaX=t.deltaX-this.pageWidth),this.initTimer()}},onPanEnd:function(t){!this.noDrag&&this.picsArr.length>1&&(this.dragging=!1,t.distance>.5*this.pageWidth||t.distance>150?t.deltaX<0?this.next():this.prev():(this.picsArr[this.pageIndex].deltaX=0,t.deltaX<0?this.picsArr[this.nextIndex].deltaX=this.pageWidth:this.picsArr[this.prevIndex].deltaX=-this.pageWidth))},onClickPic:function(t,e){if(!this.noDrag&&this.picsArr.length>1)if(e[this.imgLinkKey])window.location.href=e[this.imgLinkKey];else{var n=this,o=this.picsArr;n.initTimer(),this.quickTurnPage=!0,t.clientX<window.innerWidth/2?(o[n.prevIndex].cur=!0,o[n.prevIndex].deltaX=-n.pageWidth,setTimeout((function(){n.prev()}),50)):(o[n.nextIndex].cur=!0,o[n.nextIndex].deltaX=n.pageWidth,setTimeout((function(){n.next()}),50))}},resize:function(){var t=this;if(!this.heightVal)var e=setInterval((function(){if(t.$refs.piclist){var n=t.$refs.piclist.children[0].firstElementChild.offsetHeight;n>0&&(t.firstPicHeight=n,clearInterval(e))}else clearInterval(e)}),50);this.pageWidth=this.$el?this.$el.offsetWidth:this.pageWidth,this.dotVal&&(this.dotPadding=this.pageWidth-this.$refs.dot.offsetLeft)},create:function(){var t,e=l(this.picsArr);try{for(e.s();!(t=e.n()).done;){var n=t.value;r["a"].set(n,"deltaX",0),r["a"].set(n,"cur",!1)}}catch(o){e.e(o)}finally{e.f()}this.initPic()}},created:function(){var t=this;this.$watch("pics",(function(e){t.picsArr=e.map((function(t){return c({},t)})),t.create()}),{deep:!0}),this.create()},mounted:function(){var t=this;r["a"].nextTick((function(){t.resize(),window.addEventListener("resize",t.resize),t.initTimer()}))},destroyed:function(){var t=this;window.removeEventListener("resize",t.resize),clearInterval(t.timer)},props:{pics:{type:Array,required:!0},width:{type:[String,Number],default:0},height:{type:[String,Number],default:0},dot:{default:!0},autoPlay:{type:[String,Number],default:0},noDrag:{type:Boolean,default:!1},speed:{type:[String,Number],default:300,validator:function(t){return t>=0}},imgUrlKey:{type:String,required:!0},imgLinkKey:{type:String},titleKey:{type:String}}},f=p,m=(n("23eb"),n("2877")),h=Object(m["a"])(f,o,i,!1,null,"5977568c",null);e["default"]=h.exports},e774:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{style:{transform:t.translate,transitionDuration:t.transition},on:{mousedown:t.startDrag,touchstart:t.startDrag,mousemove:function(e){return e.stopPropagation(),t.onDrag.apply(null,arguments)},touchmove:function(e){return e.stopPropagation(),t.onDrag.apply(null,arguments)},mouseup:t.stopDrag,touchend:t.stopDrag,mouseleave:t.stopDrag,transitionend:t.transitionEnd}},[n("div",{staticClass:"m-tips m-tips-tp"},[t.showArrow?[t.requesting?n("div",{staticClass:"m-loading m-loading-dark"},[n("span"),n("span"),n("span"),n("span"),n("span"),n("span"),n("span"),n("span"),n("span"),n("span"),n("span"),n("span")]):n("i",{staticClass:"m-font m-font-down m-font-down-ani",class:{up:t.dragging&&t.dY>t.topDistance}})]:t._e(),t.showText?n("span",{staticClass:"main-link",domProps:{textContent:t._s(t.status)}}):t._e()],2),t._t("default"),n("div",{staticStyle:{position:"fixed"}})],2)},i=[],a=(n("c5f6"),n("383a"));function r(t){var e=t;while(e&&"HTML"!==e.tagName&&"BODY"!==e.tagName&&1===e.nodeType){var n=document.defaultView.getComputedStyle(e).overflowY;if("scroll"===n||"auto"===n)return e;e=e.parentNode}return document.documentElement}var s={name:"loadmore",created:function(){var t=this;this.$nextTick((function(){t.topBarHeight=t.$el.children[0].clientHeight})),a["a"].$on("mvLoadEnd",(function(){t.loadEnd()})),a["a"].$on("mvLoadStart",(function(){t.scrollTarget.scrollTop=0,t.loadStart()}))},mounted:function(){this.scrollTarget=r(this.$el)},props:{topDistance:{type:Number,default:100},topPullText:{type:String,default:"下拉刷新"},topDropText:{type:String,default:"加载中..."},topLoadingText:{type:String,default:"释放更新"},showText:{type:Boolean,default:!0},showArrow:{type:Boolean,default:!0},topMethod:{type:Function}},data:function(){return{scrollTarget:null,topBarHeight:0,requesting:!1,dragging:!1,startY:0,dY:0,reset:!0}},computed:{transition:function(){return this.dragging||0===this.dY&&this.reset?"0s":"200ms"},translate:function(){var t=80*Math.atan(this.dY/200)-this.topBarHeight;return"translateY(".concat(t,"px)")},status:function(){return this.dragging&&this.dY>this.topDistance?this.topLoadingText:this.requesting?this.topDropText:this.topPullText}},watch:{requesting:function(t){t||(this.dY=0)}},methods:{loadStart:function(){this.requesting=!0,this.topMethod(),this.dY=this.topDistance},loadEnd:function(){this.requesting=!1},startDrag:function(t){var e=t.changedTouches?t.changedTouches[0]:t;this.scrollTarget.scrollTop<=0&&(this.startY=e.pageY,this.dragging=!0,this.reset=!1)},onDrag:function(t){var e=t.changedTouches?t.changedTouches[0]:t;this.dragging&&e.pageY-this.startY>0&&window.scrollY<=0&&(t.preventDefault(),this.dY=e.pageY-this.startY,this.requesting&&(this.dY=this.dY+this.topDistance))},stopDrag:function(){this.dragging=!1,this.dY>this.topDistance&&window.scrollY<=0?this.loadStart():this.dY=0},transitionEnd:function(){this.dY!==this.topDistance||this.requesting||(this.dY=0),0===this.dY&&(this.reset=!0)}}},c=s,l=(n("f39b"),n("2877")),u=Object(l["a"])(c,o,i,!1,null,null,null);e["default"]=u.exports},e8a6:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"toast"}},[t.show?n("div",{staticClass:"mv-toast mask-wrap"},[t.backdrop?n("div",{staticClass:"m-mask",on:{touchstart:function(t){t.stopPropagation(),t.preventDefault()}}}):t._e(),n("div",{staticClass:"m-popup",on:{touchstart:function(t){t.stopPropagation(),t.preventDefault()}}},[n("div",{staticClass:"m-box m-box-dir m-box-center"},[n("header",["ok"===t.curType?n("i",{staticClass:"m-font m-font-line-check"}):t._e(),"error"===t.curType?n("i",{staticClass:"m-font m-font-line-close"}):t._e(),"warning"===t.curType?n("i",{staticClass:"m-font m-font-warn"}):t._e(),"wait"===t.curType?n("div",{staticClass:"m-loading m-loading-light"},[n("span"),n("span"),n("span"),n("span"),n("span"),n("span"),n("span"),n("span"),n("span"),n("span"),n("span"),n("span")]):t._e()]),n("h3",{domProps:{innerHTML:t._s(t.text)}})])])]):t._e()])},i=[],a=(n("8e6e"),n("ac6a"),n("cadf"),n("456d"),n("bd86")),r=(n("f751"),n("28a5"),n("383a"));function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){Object(a["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var l={name:"toast",data:function(){return{duration:2e3,backdrop:!0,show:!1,text:"",curType:this.type,type:"ok"}},methods:{call:function(t,e){var n={};if("string"===typeof t)n={text:t};else if(t){n=t;var o="ok error warning wait".split(" ").indexOf(n.type)>-1;n.curType=o?n.type:this.type,delete n.type}else n={show:!1};Object.assign(this,c({show:!0},n)),"function"===typeof e&&e(this)},calls:function(t){var e=this;return new Promise((function(n){e.call(t),n(e)}))}},created:function(){var t=this;window.mvToast=this,r["a"].$on("mvToast",(function(e,n){t.call(e,n)}))},watch:{show:function(t){var e=this;t&&"wait"!==this.curType&&setTimeout((function(){e.show=!1}),this.duration)},curType:function(t,e){var n=this;"wait"!==t&&"wait"===e&&setTimeout((function(){n.show=!1}),this.duration)}}},u=l,d=(n("23fa"),n("2877")),p=Object(d["a"])(u,o,i,!1,null,null,null);e["default"]=p.exports},f39b:function(t,e,n){"use strict";n("02bf")},fc73:function(t,e,n){"use strict";n("d5d8")},ffee:function(t,e,n){"use strict";n.r(e);var o=n("0f32"),i=n.n(o),a={distance:.618*window.innerHeight,gapTime:300,visibleHeight:0,firstCheck:!1,funcExpression:"",scrollTarget:null,scrollListener:null,disabled:!1};function r(t){var e=t;while(e&&"HTML"!==e.tagName&&"BODY"!==e.tagName&&1===e.nodeType){var n=document.defaultView.getComputedStyle(e).overflowY;if("scroll"===n||"auto"===n)return e;e=e.parentNode}return window}function s(t){return t===window?t.innerHeight:t.clientHeight}function c(t){var e=t.el.getBoundingClientRect().bottom-a.visibleHeight;e<a.distance&&!a.disabled&&t.vm[t.epr].call()}function l(t){return t}e["default"]={name:"inf-scroll",bind:function(t,e,n){var o={el:t,vm:n.context,epr:e.expression};if(a.gapTime=t.getAttribute("gap-time")||a.gapTime,a.distance=t.getAttribute("distance")||a.distance,a.disabled=t.getAttribute("disabled")||a.disabled,a.firstCheck=t.getAttribute("first-check")||a.firstCheck,!o.epr)throw new Error("滚到底后要做什么呢？");if(!{}.hasOwnProperty.call(o.vm,o.epr))throw new Error("找不到所指定的method");t.getAttribute("first-check")||o.vm[o.epr].call();var u=!1,d=function(){u=!0,o.vm.$nextTick((function(){l(o),a.scrollTarget=r(t),a.visibleHeight=s(a.scrollTarget)||a.visibleHeight,a.scrollListener=i()((function(){c(o)}),a.gapTime),a.scrollTarget.addEventListener("scroll",a.scrollListener)}))};o.vm.$on("hook:mounted",(function(){d()})),o.vm.$on("hook:updated",(function(){u||d()}))},unbind:function(){a.scrollTarget.removeEventListener("scroll",a.scrollListener)}}}},[[0,"manifest","vendor"]]]);
//# sourceMappingURL=app.11a3fee7.js.map