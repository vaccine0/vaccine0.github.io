(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["collect-main-profile-statusLite"],{"0e53":function(t,e,i){},"117b":function(t,e,i){"use strict";i("bf9c")},a020:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("footer",{staticClass:"f-footer-ctrl"},[t.showRt?i("div",{directives:[{name:"mactive",rawName:"v-mactive"}],staticClass:"m-diy-btn m-box-center-a",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.repost.apply(null,arguments)}}},[t.showRt?i("i",{staticClass:"lite-iconf lite-iconf-report"}):t._e(),i("h4",[t._v("\n      "+t._s(t._f("numFormat")(0===t.item.reposts_count?"转发":t.item.reposts_count))+"\n    ")])]):t._e(),i("div",{directives:[{name:"mactive",rawName:"v-mactive"}],staticClass:"m-diy-btn m-box-center-a",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.comment.apply(null,arguments)}}},[i("i",{staticClass:"lite-iconf lite-iconf-comments"}),i("h4",[t._v("\n      "+t._s(t._f("numFormat")(0===t.item.comments_count?"评论":t.item.comments_count))+"\n    ")])]),i("div",{directives:[{name:"mactive",rawName:"v-mactive"}],staticClass:"m-diy-btn m-box-center-a",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.like.apply(null,arguments)}}},[i("i",{staticClass:"lite-iconf",class:{"lite-iconf-liked":t.liked,"lite-iconf-like":!t.liked}}),i("h4",[t._v(t._s(t._f("numFormat")(0===t.like_counts?"赞":t.like_counts)))])]),t.showTriangle?i("aside",{directives:[{name:"mactive",rawName:"v-mactive"}],on:{click:function(e){return t.gomore(t.item)}}},[i("i",{staticClass:"m-font m-font-dot-more"})]):t._e()])},a=[],o=(i("8e6e"),i("ac6a"),i("cadf"),i("456d"),i("bd86")),r=i("2f62"),n=i("383a"),c=i("0322");function m(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function l(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?m(Object(i),!0).forEach((function(e){Object(o["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):m(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var u={mixins:[c["a"]],data:function(){return{liked:!1,like_counts:0}},props:["item","showTriangle"],created:function(){this.liked=this.item.liked,this.like_counts=this.item.attitudes_count},watch:{item:function(){this.liked=this.item.liked,this.like_counts=this.item.attitudes_count}},methods:l(l({},Object(r["b"])(["setCurWeiboData"])),{},{repost:function(){this.setCurWeiboData(this.item),this.$router.push({name:"repost",query:{id:this.item.id}})},comment:function(){this.item.comments_count?(this.setCurWeiboData(this.item),this.$router.push({name:"detail",params:{id:this.item.id}})):this.$router.push({name:"comment",query:{id:this.item.id}})},like:function(){var t=this,e=this.liked?"api/attitudes/destroy":"api/attitudes/create";this.$http.post(e,{id:this.item.id,attitude:"heart"}).then((function(e){e.data&&e.data.ok>0?(t.liked?(t.like_counts-=1,t.liked=!1):(t.like_counts+=1,t.liked=!0),t.item.attitudes_count=t.like_counts,t.item.liked=t.liked):e.data.msg&&n["a"].$emit("mvToast",{type:"error",text:e.data.msg})}),(function(t){throw new Error(t)}))},showRt:function(){return!(this.item.visible&&this.item.visible.type>0)}})},d=u,p=i("2877"),f=Object(p["a"])(d,s,a,!1,null,null,null);e["default"]=f.exports},bf9c:function(t,e,i){},cef8:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.item.id?i("div",{staticClass:"card m-panel card9 f-weibo"},[i("div",{staticClass:"card-wrap"},[t.item.title&&t.item.title.text?i("div",{staticClass:"card-title f-card-title"},[i("div",{staticClass:"m-ctrl-box"},[i("div",{staticClass:"m-diy-btn m-box-col m-box-center m-box-center-a"},[t.item.title.icon_url?[t.hidImg?i("img",{attrs:{"data-img":t.item.title.icon_url}}):i("img",{attrs:{src:t.item.title.icon_url}})]:t._e(),t.noveltyScheme?i("a",{directives:[{name:"mvlink",rawName:"v-mvlink",value:t.noveltyScheme,expression:"noveltyScheme"}],domProps:{innerHTML:t._s(t.item.title.text)}}):i("h4",{domProps:{innerHTML:t._s(t.item.title.text)}})],2)])]):t._e(),i("header",{directives:[{name:"mvlink",rawName:"v-mvlink"}],staticClass:"weibo-top m-box"},[t.item.user?i("div",{staticClass:"m-avatar-box m-box-center"},[i("router-link",{staticClass:"m-img-box",attrs:{to:"/profile/"+t.item.user.id}},[t.hidImg?i("img",{attrs:{"data-img":t.item.user.profile_image_url}}):i("img",{attrs:{src:t.item.user.profile_image_url}}),i("weibo-verified",{attrs:{user:t.item.user}})],1)],1):t._e(),i("div",{staticClass:"m-box-dir m-box-col m-box-center"},[t.item.user?i("div",{staticClass:"m-text-box"},[i("router-link",{attrs:{to:"/profile/"+t.item.user.id}},[i("h3",{staticClass:"m-text-cut"},[t._v("\n              "+t._s(t.item.user.screen_name)+"\n              "),t.item.user.remark?i("span",{staticClass:"c-text-remark"},[t._v("("+t._s(t.item.user.remark)+")")]):t._e(),i("weibo-icon",{attrs:{user:t.item.user}})],1)]),i("h4",{staticClass:"m-text-cut"},[i("span",{staticClass:"time"},[t._v(t._s(t._f("fromNow")(t.item.created_at)))]),t.item.source?i("span",{staticClass:"from",domProps:{innerHTML:t._s(" 来自 "+t.item.source)}}):t._e(),t.item.edit_count&&t.item.edit_count>0?i("span",{staticClass:"time"},[t._v("\n              已编辑")]):t._e()])],1):t._e()]),t.followBtn?i("btnFollowUser",{attrs:{btn:t.followBtn},on:{changeSubType:t.follow}}):0+t.item.reads==t.item.reads?i("span",{staticClass:"m-add-box lite-reads",on:{mouseenter:function(e){e.stopPropagation(),e.preventDefault(),t.showAllReadNum=!0},touchstart:function(e){e.stopPropagation(),e.preventDefault(),t.showAllReadNum=!0},mouseleave:function(e){e.stopPropagation(),e.preventDefault(),t.showAllReadNum=!1},touchend:function(e){e.stopPropagation(),e.preventDefault(),t.showAllReadNum=!1},touchcancel:function(e){e.stopPropagation(),e.preventDefault(),t.showAllReadNum=!1}}},[t.showAllReadNum?[i("h4",[t._v(t._s(t.item.reads))])]:[i("h4",[t._v(t._s(t._f("numFormat")(t.item.reads)))]),i("h4",[t._v("阅读")])]],2):t._e()],1)]),i("article",{staticClass:"weibo-main"},[i("div",{staticClass:"card-wrap"},[i("weibo-tips",{attrs:{reportInfo:t.item.report_info,yellowTip:t.item.yellow_tip}}),i("div",{staticClass:"weibo-og",on:{click:function(e){return t.getBlogLink(t.item,e)}}},[i("div",{directives:[{name:"ahref",rawName:"v-ahref"}],staticClass:"weibo-text",domProps:{innerHTML:t._s(t.item.text)}}),i("weibo-media",{attrs:{item:t.item,hidImg:t.hidImg}})],1)],1),t.item.retweeted_status?i("div",{staticClass:"weibo-rp",on:{click:function(e){return t.getBlogLink(t.item.retweeted_status,e)}}},[i("div",{staticClass:"card-wrap"},[i("weibo-tips",{attrs:{reportInfo:t.item.retweeted_status.report_info,yellowTip:t.item.retweeted_status.yellow_tip}}),t.item.user?i("div",{staticClass:"weibo-text"},[!t.item.retweeted_status.deleted&&t.item.retweeted_status.user?i("span",[i("router-link",{attrs:{to:"/profile/"+t.item.retweeted_status.user.id}},[t._v("\n              @"+t._s(t.item.retweeted_status.user.screen_name))]),t._v(":\n          ")],1):t._e(),i("span",{directives:[{name:"ahref",rawName:"v-ahref"}],domProps:{innerHTML:t._s(t.item.retweeted_status.text)}})]):t._e(),i("weibo-media",{attrs:{item:t.item.retweeted_status,hidImg:t.hidImg}})],1),t.showRpRCL?i("weiboRCL",{attrs:{item:t.item.retweeted_status}}):t._e()],1):t._e()]),t.showOgRCL?i("weiboRCL",{attrs:{item:t.item,showTriangle:t.showTriangle}}):t._e(),t._t("banner")],2):t._e()},a=[],o=(i("8e6e"),i("ac6a"),i("cadf"),i("456d"),i("f751"),i("4917"),i("28a5"),i("a481"),i("bd86")),r=i("2f62"),n=i("2b0a");function c(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function m(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?c(Object(i),!0).forEach((function(e){Object(o["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):c(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var l={data:function(){return{liked:!1,like_counts:0,showAllReadNum:!1}},props:["item","hidImg","showTriangle","showOgRCL","showRpRCL"],mixins:[n["a"]],computed:m(m({},Object(r["c"])(["followerInfo"])),{},{cover:function(){var t=this.item.cardid,e=t.replace(/[^0-9]/gi,"");if(t){if(e>=492&&e<700||e>=730)return{"background-image":"url(//vip.storage.weibo.com/feed_cover/".concat(t,"_mobile_new.png)"),"background-size":"auto 2.5rem","background-position":"90.53% top"};if(e<492||e>=700&&e<=729)return{"background-image":"url(//imgs.t.sinajs.cn/t6/skin/public/feed_cover/".concat(t,"_os7_d6p.png)")}}return""},followBtn:function(){return this.item.buttons&&this.item.buttons.length?this.item.buttons.filter((function(t){return"follow"===t.type}))[0]:null},noveltyScheme:function(){var t=this.item.title;if(t.structs&&t.structs[0]&&t.structs[0].scheme){var e=t.structs[0].scheme;return{scheme:e}}return!1}}),methods:m(m({},Object(r["b"])(["setCurWeiboData","setFollowerInfo"])),{},{mapPath:function(t,e){var i=t.split("://");if(i&&i[1]){var s=i[1].substring(i[1].indexOf("/")),a=this.$router.match(s);if(a.matched.length>0){e.preventDefault();var o=a.params||{};a.params.topic&&(o=Object.assign(a.query,{type:"topic",value:a.params.topic})),this.$router.push({path:a.path,params:o,query:a.query})}}},getBlogLink:function(t,e){var i=this,s=window.navigator.userAgent.toLowerCase(),a="sinaweibo://detail?mblogid=".concat(t.id),o="".concat(i.$http.defaults.baseURL,"/detail/").concat(t.id),r=s.indexOf("weibo")>-1?a:o,n=e.target;if((n&&(n.className&&n.className.indexOf("weibo-text")>-1||n.className.indexOf("m-auto-list")>-1||n.className.indexOf("weibo-media-wraps")>-1)||n.parentNode&&n.parentNode.className&&n.nodeName&&"weibo-text"===n.parentNode.className&&"a"!==n.nodeName.toLocaleLowerCase()||"weibo-rp"===n.parentNode.className&&"a"!==n.nodeName.toLocaleLowerCase()||"weibo-og"===n.parentNode.className&&"a"!==n.nodeName.toLocaleLowerCase())&&i.$route.params.id!==t.id&&!t.deleted&&t.user){var c=n;while("weibo-og"!==c.className&&"weibo-rp"!==c.className)c=c.parentNode;c.classList.add("m-active"),setTimeout((function(){c.classList.remove("m-active"),/micromessenger/.test(s)||s.indexOf("qq/")>-1||s.indexOf("qzone")>-1||s.indexOf("weibo")>-1?window.location.href=r:(i.addLog("act_code=7&oid=".concat(t.id)),i.setCurWeiboData(t),i.$router.push({name:"detail",params:{id:t.id}}))}),100)}},follow:function(){this.item.buttons=null,this.setFollowerInfo(this.item.user)}}),beforeDestroy:function(){this.followerInfo&&this.setFollowerInfo(null)},components:{weiboVerified:i("21a9").default,weiboIcon:i("a2a3").default,weiboMedia:i("fea8").default,weiboTips:i("7ad8").default,weiboRCL:i("a020").default,btnFollowUser:i("3b25").default}},u=l,d=(i("117b"),i("2877")),p=Object(d["a"])(u,s,a,!1,null,null,null);e["default"]=p.exports},d71a:function(t,e,i){"use strict";i("0e53")},fea8:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.item.pics?i("div",{staticClass:"weibo-media-wraps weibo-media f-media",class:"media-"+t.type},[t.item.pics.length>0?i("ul",{staticClass:"m-auto-list"},t._l(t.item.pics,(function(e,s){return i("li",{key:s,class:"m-auto-box"+t.cols},[i("div",{staticClass:"m-img-box m-imghold-4-3"},["livephoto"===e.type&&e.videoSrc?i("span",{staticClass:"feed-mark live-mark"},[i("i",{staticClass:"lite-iconf lite-iconf-live"})]):t.isLongImg(e)?i("span",{staticClass:"feed-mark"},[t._v("长图")]):t.isAniImg(e)?i("span",{staticClass:"feed-mark"},[t._v("动图")]):t._e(),t.hidImg?i("img",{staticClass:"f-bg-img",attrs:{"data-img":e.url},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.thumbnails(e,s,t.item.pics)}}}):i("img",{staticClass:"f-bg-img",attrs:{src:e.url},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.thumbnails(e,s,t.item.pics)}}}),t.item.mblog_vip_type>0&&(s>0&&t.payType()>0||1==t.item.pics.length&&t.payType()>0)?i("span",{staticClass:"pay-icon"},[i("img",{attrs:{src:"https://h5.sinaimg.cn/upload/1087/691/2018/05/04/timeline_card_v.png"}})]):t._e()])])})),0):t._e()]):t.item.page_info?i("div",{staticClass:"weibo-media f-media"},[i("small-page",{attrs:{item:t.item.page_info,hidImg:t.hidImg,vipType:t.item.mblog_vip_type,id:t.item.id}})],1):t._e(),"detail"===t.$route.name&&t.item.tag_info?i("div",{staticClass:"weibo-media f-media"},[i("small-page",{attrs:{item:t.item.tag_info,vipType:t.item.mblog_vip_type,id:t.item.id}})],1):t._e()])},a=[],o=(i("6b54"),i("f751"),i("0928")),r=i.n(o),n=i("383a"),c=i("2b0a");console.log("weibo-media.vue");var m={data:function(){return{}},props:["item","hidImg"],mixins:[c["a"]],computed:{type:function(){return"b"},cols:function(){return!this.item.pics||1!==this.item.pics.length&&2!==this.item.pics.length&&4!==this.item.pics.length?"3":"2"},styles:function(){var t=150,e=this.item.pics[0].geo.width,i=this.item.pics[0].geo.height;return{singleImg:{width:"".concat(e>t?t/16:e/16,"rem"),height:"".concat(e>t?t*i/e/16:i/16,"rem")}}}},components:{"small-page":i("2e47").default},methods:{isLongImg:function(t){if(t.geo){var e=t.geo,i=e.width,s=e.height;return s>3*i||s>100&&i>4*s}return!1},isAniImg:function(t){return"gif"===t.type||"gifvideos"===t.type},thumbnails:function(t,e,i){this.addLog("act_code=749&oid=".concat(this.item.id)),this.addLog("act_code=9749&oid=".concat(this.item.id));var s="sinaweibo://detail?mblogid=".concat(this.item.id,"&luicode=20000061");if(this.item.mblog_vip_type>0&&1===this.item.mblog_vip_type)r.a.start({scheme:s});else{var a=t.target||t.srcElement,o=this.formatThumbItem(a,i);n["a"].$emit("mvGallery",e,o)}},formatThumbItem:function(t,e){var i=this.closest(t,(function(t){return t.classList.contains("weibo-media")})),s=e.map((function(t,e){var s={src:"gif"===t.type?t.url:t.large.url,w:t.large.geo.width||500,h:t.large.geo.height||500,msrc:t.url,el:i.getElementsByClassName("f-bg-img")[e],type:t.type};return t.videoSrc&&Object.assign(s,{videoSrc:t.videoSrc}),s}));return s},closest:function(t,e){return t&&(e(t)?t:this.closest(t.parentNode,e))},payType:function(){var t=this.item.mblog_vip_type,e=parseInt(t,10).toString(2).length;return parseInt(t,10).toString(2)[e-1]}}},l=m,u=(i("d71a"),i("2877")),d=Object(u["a"])(l,s,a,!1,null,"5deaae85",null);e["default"]=d.exports}}]);
//# sourceMappingURL=collect-main-profile-statusLite.031e5d9a.js.map